centos7下使用yum安装mysql

1. 下载mysql的repo源
wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm

2. 安装mysql-community-release-el7-5.noarch.rpm包
rpm -ivh mysql-community-release-el7-5.noarch.rpm
安装这个包后，会获得两个mysql的yum repo源：/etc/yum.repos.d/mysql-community.repo，/etc/yum.repos.d/mysql-community-source.repo。

3. 安装mysql
sudo yum install mysql-server
根据步骤安装就可以了，不过安装完成后，没有密码，需要重置密码。

4. 重置密码
重置密码前，首先要登录
mysql -u root
登录时有可能报这样的错：ERROR 2002 (HY000): Can‘t connect to local MySQL server through socket ‘/var/lib/mysql/mysql.sock‘ (2)，原因是/var/lib/mysql的访问权限问题。下面的命令把/var/lib/mysql的拥有者改为当前用户：

chown -R root:root /var/lib/mysql
然后，重启服务：

service mysqld restart
接下来登录重置密码：

mysql -u root
mysql > use mysql;
mysql > update user set password=password(‘123456‘) where user=‘root‘;
mysql > flush privileges;

5. 开放3306端口
vim /etc/sysconfig/iptables
添加以下内容：
-A INPUT -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT
保存后重启防火墙：
service iptables restart
这样从其它客户机也可以连接上mysql服务了。

代码中使用Mysql Connector来连接mysql,需要将mysql-connector-c++-1.1.1-linux-el6-x86-64bit.tar.gz解压到的include拷贝到/usr/local/include,
将libmysqlcppconn.so,libmysqlcppconn.so.6,libmysqlcppconn.so.6.1.1.1拷贝到/usr/local/1ib64,将libmysqlcppconn-static.a拷贝到/usr/local/lib
